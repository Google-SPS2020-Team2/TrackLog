CREATE TABLE IF NOT EXISTS user (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  username TEXT UNIQUE NOT NULL,
  nickname TEXT NOT NULL,
  password TEXT NOT NULL,
  favor_list TEXT NOT NULL,
  played_music_history TEXT NOT NULL
);

CREATE TABLE IF NOT EXISTS  music (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  created TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  music_name TEXT NOT NULL,
  artist_id INTEGER,
  difficulty INTEGER NOT NULL DEFAULT 0
);

CREATE TABLE IF NOT EXISTS  artist (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL,
  introduction TEXT
);

CREATE TABLE IF NOT EXISTS  practice (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  music_id INTEGER NOT NULL,
  player_id INTEGER NOT NULL,
  score INTEGER NOT NULL DEFAULT 0,
  content TEXT,
  FOREIGN KEY (music_id) REFERENCES music (id),
  FOREIGN KEY (player_id) REFERENCES user (id)
);
